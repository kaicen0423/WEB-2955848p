<!DOCTYPE html>
<html>
<head>
    <title>Shanghai Tourist Attractions Map</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <style>
        #map {
            height: 100vh;
            width: 100%;
        }

        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        .info-window {
            max-width: 300px;
            padding: 10px;
        }

        .info-window h2 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 18px;
        }

        .info-window p {
            margin: 0;
            line-height: 1.5;
            color: #666;
        }

        #error-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 5px;
            display: none;
            z-index: 1000;
        }

        .map-controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            padding: 10px;
            border-radius: 4px;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);
            z-index: 1000;
        }

        .map-type-button {
            margin: 5px;
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);
        }

        .map-type-button.active {
            background: #4a90e2;
            color: white;
        }
    </style>
</head>
<body>
<div id="map"></div>
<div id="error-message"></div>
<div class="map-controls">
    <button class="map-type-button active" data-type="streets">Streets</button>
    <button class="map-type-button" data-type="satellite">Satellite</button>
    <button class="map-type-button" data-type="terrain">Terrain</button>
</div>

<!-- Leaflet JavaScript -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>

<script>
    let map;
    let markers = [];
    let currentLayer;

    // Location data embedded directly in the HTML
    const locations = [
        {
            "name": "The British Museum",
            "coordinates": [
                -0.126147,
                51.519470
            ],
            "description": "The British Museum is a world-renowned museum dedicated to human history, art, and culture. It houses a vast collection of artifacts from around the globe, including the Rosetta Stone and the Parthenon Marbles. The museum offers a rich educational experience and is a must-visit for history enthusiasts and art lovers."
        },
        {
            "name": "Buckingham Palace",
            "coordinates": [
                -0.141667,
                51.501472
            ],
            "description": "Buckingham Palace is the official residence of the British monarch. It is an iconic symbol of the United Kingdom and is famous for its Changing of the Guard ceremony. The palace also offers guided tours of the State Rooms, which are filled with opulent furnishings and works of art."
        },
        {
            "name": "Big Ben (Elizabeth Tower)",
            "coordinates": [
                -0.127625,
                51.499478
            ],
            "description": "The Elizabeth Tower, commonly known as Big Ben, is a famous clock tower in London. It is part of the Palace of Westminster and is one of the most recognizable landmarks in the city. The tower's massive clock and its distinctive chimes are iconic symbols of London and British culture."
        },
        {
            "name": "London Eye",
            "coordinates": [
                -0.118107,
                51.503473
            ],
            "description": "The London Eye is a giant Ferris wheel on the South Bank of the River Thames. It offers breathtaking views of London's skyline, including landmarks like Big Ben, the Houses of Parliament, and St. Paul's Cathedral. It is a popular tourist attraction, especially at night when the city is illuminated."
        },
        {
            "name": "St. Paul's Cathedral",
            "coordinates": [
                -0.098056,
                51.513778
            ],
            "description": "St. Paul's Cathedral is a magnificent Anglican cathedral in London. Designed by Sir Christopher Wren, it is known for its iconic dome, which dominates the city's skyline. The cathedral has a rich history and has been the site of many important events, including royal weddings and funerals."
        },
        {
            "name": "Tower Bridge",
            "coordinates": [
                -0.075581,
                51.505344
            ],
            "description": "Tower Bridge is a combined bascule and suspension bridge over the River Thames. It is an iconic symbol of London and is known for its Victorian Gothic style. The bridge offers stunning views of the river and the city, and visitors can also explore the Tower Bridge Exhibition to learn about its history and engineering."
        },
        {
            "name": "The Tower of London",
            "coordinates": [
                -0.083056,
                51.508611
            ],
            "description": "The Tower of London is a historic castle on the north bank of the River Thames. It has served as a royal palace, a prison, an armory, a treasury, and a zoo over the centuries. The tower is famous for its Crown Jewels, which are on display for visitors to see."
        },
        {
            "name": "Natural History Museum",
            "coordinates": [
                -0.180584,
                51.499687
            ],
            "description": "The Natural History Museum is a world-class museum dedicated to the study of natural history. It houses a vast collection of specimens, including dinosaurs, fossils, and rare animals. The museum offers interactive exhibits, educational programs, and research opportunities, making it a great place for both children and adults to learn about the natural world."
        },
        {
            "name": "National Gallery",
            "coordinates": [
                -0.127611,
                51.512778
            ],
            "description": "The National Gallery is a public art museum in Trafalgar Square. It houses a collection of over 2,300 paintings from the 13th to the 19th centuries, including works by famous artists such as Leonardo da Vinci, Vincent van Gogh, and Rembrandt. The gallery offers free admission and is a popular destination for art lovers and tourists."
        },
        {
            "name": "Covent Garden",
            "coordinates": [
                -0.123389,
                51.513056
            ],
            "description": "Covent Garden is a popular shopping, dining, and entertainment district in central London. It is known for its historic market buildings, street performers, and a wide range of shops, restaurants, and cafes. The area also hosts many cultural events and exhibitions throughout the year."
        },
        {
            "name": "Hyde Park",
            "coordinates": [
                -0.161667,
                51.507778
            ],
            "description": "Hyde Park is one of the largest parks in central London. It offers a wide range of recreational activities, including walking, cycling, boating, and horse riding. The park also has several attractions, such as the Serpentine Lake, Speakers' Corner, and the Diana, Princess of Wales Memorial Fountain."
        },
        {
            "name": "Kensington Palace",
            "coordinates": [
                -0.191667,
                51.502778
            ],
            "description": "Kensington Palace is a royal residence in Kensington Gardens. It has been the home of many members of the British royal family, including Queen Victoria and Princess Diana. The palace offers guided tours of the State Apartments, which are filled with historic furnishings and works of art."
        },
        {
            "name": "Westminster Abbey",
            "coordinates": [
                -0.128056,
                51.499722
            ],
            "description": "Westminster Abbey is a historic Gothic abbey church in London. It has been the site of many important events in British history, including coronations, royal weddings, and funerals. The abbey is known for its beautiful architecture, stained glass windows, and tombs of famous people, such as Isaac Newton and Charles Darwin."
        },
        {
            "name": "Shard London Bridge",
            "coordinates": [
                -0.099364,
                51.504784
            ],
            "description": "The Shard London Bridge is a skyscraper in London. It is the tallest building in the United Kingdom and offers panoramic views of the city from its observation decks. The building also houses offices, restaurants, and a hotel, making it a popular destination for both tourists and locals."
        },
        {
            "name": "Greenwich Park",
            "coordinates": [
                0.000000,
                51.483333
            ],
            "description": "Greenwich Park is a historic park in Greenwich, London. It is home to the Royal Observatory, the Prime Meridian, and the Cutty Sark tea clipper. The park offers stunning views of the River Thames and the city skyline, and it is a popular destination for picnics, walks, and outdoor activities."
        },
        {
            "name": "Millennium Bridge",
            "coordinates": [
                -0.099036,
                51.512299
            ],
            "description": "The Millennium Bridge is a pedestrian bridge across the River Thames in London. It connects the Tate Modern art gallery on the south bank with St. Paul's Cathedral on the north bank. The bridge offers stunning views of the river and the city, and it is a popular route for pedestrians and cyclists."
        },
        {
            "name": "South Bank Centre",
            "coordinates": [
                -0.115486,
                51.503644
            ],
            "description": "The South Bank Centre is a cultural complex on the South Bank of the River Thames. It houses several theaters, concert halls, art galleries, and restaurants. The center hosts a wide range of cultural events, including music concerts, theater performances, art exhibitions, and festivals throughout the year."
        },
        {
            "name": "Hampton Court Palace",
            "coordinates": [
                -0.404722,
                51.432778
            ],
            "description": "Hampton Court Palace is a historic royal palace in Richmond upon Thames, London. It was built for Cardinal Wolsey in the 16th century and later became a residence of King Henry VIII. The palace is known for its beautiful architecture, extensive gardens, and historic artifacts. It offers guided tours of the State Apartments, the kitchens, and the gardens."
        },
        {
            "name": "Brick Lane",
            "coordinates": [
                -0.075278,
                51.517222
            ],
            "description": "Brick Lane is a street in the East End of London. It is known for its vibrant street art, trendy cafes, restaurants, and vintage shops. The area has a rich cultural history and is home to a large Bangladeshi community. Brick Lane is a popular destination for tourists and locals alike, especially for those interested in street art, fashion, and food."
        },
        {
            "name": "Kew Gardens",
            "coordinates": [
                -0.300278,
                51.468889
            ],
            "description": "Kew Gardens is a world-famous botanical garden located in southwest London. It features an extensive collection of plants from around the globe, including the iconic Palm House with its tropical plants, and the Great Pagoda. The gardens offer a peaceful retreat with beautiful landscapes, walking trails, and educational opportunities about plant conservation and biodiversity."
        },
        {
            "name": "Leicester Square",
            "coordinates": [
                -0.130278,
                51.509167
            ],
            "description": "Leicester Square is a bustling public square in the West End of London. It is a major entertainment hub, surrounded by cinemas, theaters, and restaurants. The square often hosts film premieres and other high-profile events. It is also a popular meeting place for tourists and locals, with its lively atmosphere and numerous attractions nearby."
        },
        {
            "name": "Notting Hill",
            "coordinates": [
                -0.201389,
                51.513056
            ],
            "description": "Notting Hill is a vibrant and trendy neighborhood in west London. It is famous for its colorful houses, Portobello Road Market which offers a wide variety of antiques, vintage clothing, and food stalls. The area also hosts the annual Notting Hill Carnival, a lively celebration of Caribbean culture with music, parades, and delicious food."
        },
        {
            "name": "Regent's Park",
            "coordinates": [
                -0.148333,
                51.523333
            ],
            "description": "Regent's Park is one of London's eight Royal Parks. It features beautiful gardens, a large boating lake, and several sports facilities. The park is home to the London Zoo and also hosts open-air theater performances during the summer months. It offers a peaceful escape from the city and is a popular spot for picnics, walks, and outdoor activities."
        },
        {
            "name": "Trafalgar Square",
            "coordinates": [
                -0.126389,
                51.512222
            ],
            "description": "Trafalgar Square is a famous public square in central London. It is dominated by Nelson's Column, which commemorates Admiral Horatio Nelson. The square is surrounded by important landmarks such as the National Gallery and the Canada House. It is a popular gathering place for protests, celebrations, and cultural events, and is a symbol of British history and culture."
        },
        {
            "name": "Whitechapel Gallery",
            "coordinates": [
                -0.068889,
                51.516111
            ],
            "description": "The Whitechapel Gallery is a contemporary art gallery in the East End of London. It has a reputation for showcasing innovative and thought-provoking art exhibitions, featuring works by both established and emerging artists. The gallery also offers educational programs, workshops, and talks, making it a cultural hub for the local community and art enthusiasts."
        },
        {
            "name": "The Royal Albert Hall",
            "coordinates": [
                -0.176111,
                51.497778
            ],
            "description": "The Royal Albert Hall is a world-famous concert hall in South Kensington. It is known for its distinctive architecture and excellent acoustics. The hall hosts a wide range of events, including classical music concerts, pop and rock performances, ballet, and opera. It is an iconic venue in London and a symbol of the city's rich cultural heritage."
        },
        {
            "name": "Borough Market",
            "coordinates": [
                -0.096389,
                51.504167
            ],
            "description": "Borough Market is one of London's oldest and largest food markets. Located near London Bridge, it offers a wide variety of fresh produce, artisanal foods, cheeses, meats, and international cuisines. The market is a food lover's paradise, with numerous stalls and vendors selling high-quality products. It also has several cafes and restaurants where visitors can sample the delicious food."
        },
        {
            "name": "Chelsea Physic Garden",
            "coordinates": [
                -0.188889,
                51.492778
            ],
            "description": "The Chelsea Physic Garden is a historic botanical garden in Chelsea, London. It was founded in 1673 and is one of the oldest botanical gardens in the UK. The garden features a diverse collection of medicinal, edible, and useful plants from around the world. It offers guided tours, educational programs, and a peaceful environment for visitors to learn about the history and uses of plants."
        },
        {
            "name": "The Barbican Centre",
            "coordinates": [
                -0.096389,
                51.517222
            ],
            "description": "The Barbican Centre is a large performing arts center in the City of London. It houses a concert hall, a theater, an art gallery, and a cinema. The center hosts a wide range of events, including music concerts, theater performances, dance shows, art exhibitions, and film screenings. Its unique Brutalist architecture makes it a notable landmark in the city."
        },
        {
            "name": "The Royal Observatory Greenwich",
            "coordinates": [
                0.000000,
                51.483333
            ],
            "description": "The Royal Observatory Greenwich is a scientific observatory in Greenwich, London. It is home to the Prime Meridian, which marks the 0° longitude. The observatory offers a fascinating insight into the history of timekeeping and astronomy, with exhibits on clocks, telescopes, and navigation. It also has a planetarium where visitors can enjoy stargazing shows."
        },
        {
            "name": "Camden Market",
            "coordinates": [
                -0.141944,
                51.531667
            ],
            "description": "Camden Market is a vibrant and eclectic market in Camden Town, London. It is a popular destination for shopping, dining, and entertainment. The market features a wide range of stalls selling everything from fashion and accessories to music, art, and street food. It has a unique and bohemian atmosphere, attracting a diverse crowd of tourists and locals."
        },
        {
            "name": "St. James's Park",
            "coordinates": [
                -0.132222,
                51.505278
            ],
            "description": "St. James's Park is one of the Royal Parks of London, located in the heart of the city. It features a beautiful lake, surrounded by lush greenery and a variety of wildlife, including pelicans. The park is adjacent to Buckingham Palace and offers stunning views of the palace and other nearby landmarks. It is a popular spot for walking, picnicking, and relaxing."
        },
        {
            "name": "The Old Vic",
            "coordinates": [
                -0.119167,
                51.505833
            ],
            "description": "The Old Vic is a historic theater in Waterloo, London. It has a long and prestigious history, dating back to 1818. The theater has hosted many famous actors and actresses over the years and is known for its high-quality productions of plays, musicals, and other performances. It is a cultural institution in London and a popular destination for theater lovers."
        },
        {
            "name": "The Tate Britain",
            "coordinates": [
                -0.116389,
                51.509167
            ],
            "description": "The Tate Britain is an art gallery in London that houses the national collection of British art from the 16th century to the present day. It features works by famous British artists such as J.M.W. Turner, John Constable, and Henry Moore. The gallery offers a comprehensive overview of British art history and hosts a variety of exhibitions, events, and educational programs."
        },
        {
            "name": "The Globe Theatre",
            "coordinates": [
                -0.108889,
                51.505833
            ],
            "description": "The Globe Theatre is a reconstruction of the original Globe Theatre, where many of William Shakespeare's plays were first performed. Located on the South Bank of the River Thames, the theater offers a unique experience of Elizabethan theater. Visitors can watch performances of Shakespeare's plays in a replica of the original open-air theater, and also explore the museum to learn about the history of the theater and Shakespeare's time."
        },
        {
            "name": "The British Library",
            "coordinates": [
                -0.125278,
                51.520278
            ],
            "description": "The British Library is the national library of the United Kingdom. It is one of the largest libraries in the world, housing a vast collection of books, manuscripts, maps, and other historical documents. The library offers research facilities, exhibitions, and educational programs. It is a treasure trove of knowledge and a must-visit for anyone interested in history, literature, and culture."
        },
        {
            "name": "Wembley Stadium",
            "coordinates": [
                -0.260833,
                51.552222
            ],
            "description": "Wembley Stadium is a large football stadium in Wembley, London. It is the home of the England national football team and hosts major football matches, including the FA Cup final. The stadium also hosts other events such as concerts and American football games. It is a modern and iconic stadium with a seating capacity of over 90,000, and is a symbol of British sports culture."
        },
        {
            "name": "The Shoreditch Triangle",
            "coordinates": [
                -0.082778,
                51.520833
            ],
            "description": "The Shoreditch Triangle is a trendy and creative neighborhood in East London. It is known for its vibrant street art, independent shops, cafes, and bars. The area has a thriving arts and culture scene, with many galleries, studios, and event spaces. It is a popular destination for young professionals and artists, and offers a unique and alternative atmosphere."
        },
        {
            "name": "The Museum of London",
            "coordinates": [
                -0.093889,
                51.517778
            ],
            "description": "The Museum of London is a museum dedicated to the history of London. It houses a vast collection of artifacts, documents, and images that tell the story of the city from prehistoric times to the present day. The museum offers interactive exhibits, educational programs, and guided tours, providing a comprehensive overview of London's rich and diverse history."
        },
        {
            "name": "Holland Park",
            "coordinates": [
                -0.212778,
                51.505278
            ],
            "description": "Holland Park is a public park in the Royal Borough of Kensington and Chelsea in London. It features beautiful gardens, including a Kyoto Garden with Japanese-style landscaping, a large woodland area, and a variety of sports facilities. The park also hosts open-air theater performances and is a peaceful retreat within the bustling city, attracting both locals and tourists for relaxation and recreation."
        },
        {
            "name": "The National Portrait Gallery",
            "coordinates": [
                -0.127222,
                51.512778
            ],
            "description": "The National Portrait Gallery in London is home to a collection of portraits of historically important and famous British people. Spanning from the 16th century to the present day, it showcases works by renowned artists and provides a visual history of British figures in various fields such as politics, science, art, and entertainment. The gallery offers insights into the lives and personalities of those who have shaped British culture and history."
        },
        {
            "name": "Broadway Market",
            "coordinates": [
                -0.065278,
                51.531111
            ],
            "description": "Broadway Market is a lively market in Hackney, London. It offers a range of artisanal food stalls, independent shops selling fashion, homeware, and vintage items, as well as cafes and restaurants. The market has a vibrant community atmosphere and is a popular destination on weekends, attracting foodies, shoppers, and those looking to experience the local culture and creativity of the area."
        },
        {
            "name": "The Foundling Museum",
            "coordinates": [
                -0.120556,
                51.518056
            ],
            "description": "The Foundling Museum in London tells the story of the Foundling Hospital, the UK's first children's charity and first public art gallery. It features a collection of art, historical documents, and personal items that shed light on the lives of the abandoned children who were cared for by the hospital, as well as the artists and philanthropists who supported it. The museum offers a unique and moving insight into social history and the arts."
        },
        {
            "name": "Gunnersbury Park",
            "coordinates": [
                -0.309167,
                51.482222
            ],
            "description": "Gunnersbury Park is a large public park in west London, straddling the boroughs of Ealing and Hounslow. It has beautiful gardens, lakes, and historic buildings such as Gunnersbury House and the Museum of London Borough of Hounslow. The park offers a variety of recreational activities, including walking, cycling, and sports, and also hosts events and festivals throughout the year."
        },
        {
            "name": "The Old Royal Naval College",
            "coordinates": [
                0.005278,
                51.480833
            ],
            "description": "The Old Royal Naval College in Greenwich is a stunning architectural complex. Designed by Sir Christopher Wren, it features beautiful baroque architecture, including the famous Painted Hall. The college has a rich history as a naval hospital and later a training college for naval officers. Today, it is a popular tourist attraction, offering guided tours, exhibitions, and panoramic views of the River Thames and London's skyline."
        },
        {
            "name": "Primrose Hill",
            "coordinates": [
                -0.156111,
                51.532222
            ],
            "description": "Primrose Hill is a hill in north London with a park at its summit. It offers panoramic views of the London skyline, including landmarks like the London Eye and the Shard. The park is a popular spot for picnics, walking, and enjoying the outdoors. It also has a vibrant community with nearby cafes, restaurants, and independent shops, and is known for its bohemian atmosphere."
        },
        {
            "name": "The Royal Opera House",
            "coordinates": [
                -0.128333,
                51.510556
            ],
            "description": "The Royal Opera House in Covent Garden is one of the world's leading opera and ballet companies. It hosts a diverse range of performances, featuring world-class artists and productions. The building itself is an architectural gem, with a rich history dating back to the 18th century. In addition to performances, the opera house offers backstage tours, workshops, and educational programs for the public."
        },
        {
            "name": "The Horniman Museum and Gardens",
            "coordinates": [
                -0.066389,
                51.447778
            ],
            "description": "The Horniman Museum and Gardens in Forest Hill, London, houses a fascinating collection of anthropology, natural history, and musical instruments. The museum offers interactive exhibits, educational programs, and events for all ages. The surrounding gardens are beautiful, with a nature trail, a pond, and a bandstand. It is a great place for families and those interested in learning about different cultures and the natural world."
        },
        {
            "name": "Museum of Brands",
            "coordinates": [
                -0.202222,
                51.514167
            ],
            "description": "The Museum of Brands in London takes visitors on a journey through the history of consumer culture. It features a vast collection of packaging, advertising, and branding materials from the past 150 years. The exhibits showcase how products and brands have evolved over time, reflecting changes in society, technology, and design. It's a nostalgic and informative experience for those interested in marketing, history, and popular culture."
        },
        {
            "name": "The Crystal Palace Park",
            "coordinates": [
                -0.046389,
                51.426111
            ],
            "description": "Crystal Palace Park in south London is a large public park with a rich history. It was originally the site of the Great Exhibition of 1851, and although the Crystal Palace building is no longer there, the park still features remnants of its past, such as the famous dinosaur sculptures. The park offers a variety of recreational facilities, including sports fields, a maze, and beautiful gardens, and is a popular destination for outdoor activities and family outings."
        },
        {
            "name": "The V&A Museum of Childhood",
            "coordinates": [
                -0.065556,
                51.524722
            ],
            "description": "The V&A Museum of Childhood, located in Bethnal Green, is part of the Victoria and Albert Museum. It houses a collection of toys, games, and childhood-related objects from different periods and cultures. The museum offers interactive exhibits and activities for children and adults, providing insights into the history of childhood and the role of play in society. It's a great place for families to explore and learn together."
        },
        {
            "name": "The Churchill War Rooms",
            "coordinates": [
                -0.132778,
                51.501944
            ],
            "description": "The Churchill War Rooms in London are a museum dedicated to the underground bunker that served as the headquarters of the British government during World War II. It offers a fascinating glimpse into the strategic operations and decision-making processes during the war. Visitors can explore the original rooms, see historical artifacts, and learn about Winston Churchill's leadership through interactive exhibits and displays."
        },
        {
            "name": "The Postal Museum",
            "coordinates": [
                -0.118056,
                51.521389
            ],
            "description": "The Postal Museum in London tells the story of the UK's postal service, from its early beginnings to the present day. It features a collection of stamps, postboxes, and other postal artifacts, as well as interactive exhibits that showcase the history of communication and the role of the postal service in society. The museum also has a Mail Rail ride, which takes visitors on a journey through the former underground mail railway."
        },
        {
            "name": "Kenwood House",
            "coordinates": [
                -0.197778,
                51.570833
            ],
            "description": "Kenwood House is a historic mansion in Hampstead, London. Set in beautiful grounds, it houses a collection of art, including works by Rembrandt, Vermeer, and Turner. The house offers guided tours, allowing visitors to explore its elegant interiors and learn about its history and the people who lived there. The surrounding parkland is popular for walking, picnicking, and enjoying the scenic views of the city."
        },
        {
            "name": "The Serpentine Galleries",
            "coordinates": [
                -0.166389,
                51.505278
            ],
            "description": "The Serpentine Galleries in Hyde Park, London, consist of two galleries that showcase contemporary art exhibitions. They feature works by emerging and established artists from around the world. The galleries also host a variety of events, including talks, workshops, and performances. The surrounding park provides a beautiful setting for visitors to enjoy the art and the outdoors."
        },
        {
            "name": "The Hackney Empire",
            "coordinates": [
                -0.064722,
                51.530556
            ],
            "description": "The Hackney Empire is a historic music hall and theater in Hackney, London. It has a long history of hosting a variety of performances, including music concerts, comedy shows, and pantomimes. The building itself is an architectural landmark, with a beautifully restored interior. The Hackney Empire is an important cultural institution in the area, contributing to the vibrant arts scene in East London."
        },
        {
            "name": "The Royal Mews",
            "coordinates": [
                -0.137222,
                51.500833
            ],
            "description": "The Royal Mews, located adjacent to Buckingham Palace in London, is the official stables of the British Royal Family. It houses a collection of historic carriages, including the Gold State Coach used in coronations. The Mews offers guided tours, allowing visitors to see these magnificent vehicles up close and learn about their history and significance. It also provides a behind-the-scenes look at the operations of the Royal Household."
        },
        {
            "name": "The Old Billingsgate Market",
            "coordinates": [
                -0.088056,
                51.507222
            ],
            "description": "The Old Billingsgate Market in London was once a major fish market. Today, it has been transformed into a venue for events, exhibitions, and dining. The building's historic architecture has been preserved, and it offers a unique setting for a variety of activities. It is located on the banks of the River Thames, providing stunning views of the river and the city's skyline."
        },
        {
            "name": "The Wimbledon Lawn Tennis Museum",
            "coordinates": [
                -0.200833,
                51.424722
            ],
            "description": "The Wimbledon Lawn Tennis Museum is located at the All England Club in Wimbledon, London. It is dedicated to the history of tennis, particularly the prestigious Wimbledon Championships. The museum features a collection of tennis memorabilia, including trophies, racquets, and clothing worn by famous players. It also offers interactive exhibits and behind-the-scenes tours of the Wimbledon grounds, providing a comprehensive experience for tennis fans."
        },
        {
            "name": "Battersea Park",
            "coordinates": [
                -0.161389,
                51.485556
            ],
            "description": "Battersea Park is a large public park located in Battersea, London. It features a beautiful boating lake, extensive gardens, and a children's zoo. The park also hosts various events throughout the year, including concerts and festivals. With its open spaces and recreational facilities, it's a popular spot for locals and tourists looking to relax and enjoy outdoor activities."
        },
        {
            "name": "The Wallace Collection",
            "coordinates": [
                -0.141389,
                51.516111
            ],
            "description": "The Wallace Collection is a museum in London that houses an outstanding collection of fine and decorative arts. It features works by renowned artists such as Rembrandt, Titian, and Rubens, as well as a magnificent collection of French 18th-century furniture and porcelain. Housed in a historic townhouse, the museum offers a more intimate and refined art viewing experience."
        },
        {
            "name": "Columbia Road Flower Market",
            "coordinates": [
                -0.067778,
                51.523889
            ],
            "description": "Columbia Road Flower Market is a vibrant and colorful market in East London. Every Sunday, the street comes alive with a wide variety of flower stalls selling fresh blooms, plants, and gardening accessories. Surrounded by charming independent shops, cafes, and restaurants, it's a delightful place to browse, soak up the atmosphere, and pick up some beautiful flowers."
        },
        {
            "name": "The Institute of Contemporary Arts (ICA)",
            "coordinates": [
                -0.130833,
                51.507222
            ],
            "description": "The Institute of Contemporary Arts in London is a leading venue for contemporary art, film, music, and performance. It showcases innovative and cutting-edge work from both established and emerging artists. The ICA also hosts a range of events, including talks, workshops, and film screenings, making it a hub for contemporary culture and artistic exploration."
        },
        {
            "name": "Hammersmith Apollo",
            "coordinates": [
                -0.227778,
                51.496944
            ],
            "description": "Hammersmith Apollo is a historic music and entertainment venue in Hammersmith, London. It has hosted a wide range of performances over the years, from world-famous musicians and comedians to theatrical shows. With its distinctive art deco architecture and excellent acoustics, it provides a memorable experience for both performers and audiences alike."
        },
        {
            "name": "The Geffrye Museum of the Home",
            "coordinates": [
                -0.064444,
                51.540278
            ],
            "description": "The Geffrye Museum of the Home in London explores the history of the British home and domestic life. Through its collection of period rooms, furniture, and decorative arts, it showcases how homes have evolved over the centuries. The museum also features beautiful herb gardens, providing a glimpse into the history of gardening and domestic horticulture."
        },
        {
            "name": "The Royal Festival Hall",
            "coordinates": [
                -0.117222,
                51.503889
            ],
            "description": "The Royal Festival Hall is part of the Southbank Centre in London. It is a major concert hall and cultural venue, hosting a diverse range of performances, including classical music concerts, jazz gigs, and contemporary music shows. With its modern architecture and excellent facilities, it offers a world-class setting for both performers and audiences."
        },
        {
            "name": "The London Canal Museum",
            "coordinates": [
                -0.111667,
                51.523333
            ],
            "description": "The London Canal Museum in Islington, London, is dedicated to the history of the canals in London. It features exhibits on the construction, operation, and social impact of the canals, as well as a collection of narrowboats and canal-related artifacts. The museum also offers guided boat trips along the canals, providing a unique perspective on London's waterways."
        },
        {
            "name": "The Dulwich Picture Gallery",
            "coordinates": [
                -0.077222,
                51.447222
            ],
            "description": "The Dulwich Picture Gallery is the world's first purpose-built public art gallery. Located in Dulwich, London, it houses a collection of Old Master paintings, including works by Rubens, Rembrandt, and Gainsborough. The gallery's beautiful architecture and serene setting make it a wonderful place to appreciate art in a peaceful environment."
        },
        {
            "name": "The Barbican Conservatory",
            "coordinates": [
                -0.094722,
                51.517778
            ],
            "description": "The Barbican Conservatory is a large indoor tropical garden located within the Barbican Centre in London. It is home to a diverse range of plants from around the world, including palm trees, orchids, and cacti. With its lush greenery and tranquil atmosphere, it offers a peaceful escape from the urban environment and is open to the public for free on select days."
        },
        {
            "name": "The London Transport Museum",
            "coordinates": [
                -0.126111,
                51.512778
            ],
            "description": "The London Transport Museum in Covent Garden, London, tells the story of London's transport network. It features a collection of vintage buses, trains, trams, and other transport-related artifacts. Through interactive exhibits and displays, visitors can learn about the history, development, and impact of London's transport system on the city and its people."
        },
        {
            "name": "The Museum of London Docklands",
            "coordinates": [
                -0.037222,
                51.507778
            ],
            "description": "The Museum of London Docklands is located in West India Quay, London. It explores the history of London's docks and the role they have played in the city's development as a major port. The museum features exhibits on trade, immigration, and the social history of the docklands area, as well as interactive displays and historical artifacts."
        },
        {
            "name": "The Royal Botanic Gardens, Kew (Arboretum)",
            "coordinates": [
                -0.300278,
                51.468889
            ],
            "description": "The arboretum within the Royal Botanic Gardens, Kew, in London is home to an extensive collection of trees from around the world. It offers a beautiful and educational experience, with walking trails that allow visitors to explore different species of trees and learn about their ecological importance. The arboretum is a vital part of Kew's conservation and research efforts, as well as a popular destination for nature lovers."
        },
        {
            "name": "The Clink Prison Museum",
            "coordinates": [
                -0.108056,
                51.506111
            ],
            "description": "The Clink Prison Museum in London is located on the site of the former Clink Prison, one of the oldest and most notorious prisons in London. It offers a fascinating insight into the history of crime and punishment in the city. Through interactive exhibits, historical artifacts, and live reenactments, visitors can experience what life was like for prisoners in medieval and early modern London."
        },
        {
            "name": "The Sky Garden",
            "coordinates": [
                -0.087222,
                51.513056
            ],
            "description": "The Sky Garden is a public garden and observation deck located at the top of the Walkie Talkie building in London. It offers 360-degree panoramic views of the city skyline, as well as a beautiful landscaped garden with a variety of plants and trees. The Sky Garden also features cafes, restaurants, and event spaces, making it a popular destination for both locals and tourists to enjoy the views and the greenery."
        },
        {
            "name": "The Horniman Nature Trail",
            "coordinates": [
                -0.066389,
                51.447778
            ],
            "description": "The Horniman Nature Trail is located within the grounds of the Horniman Museum and Gardens in London. It offers a peaceful and educational walk through different habitats, including woodland, meadow, and wetland areas. Along the trail, visitors can spot a variety of wildlife, learn about the local flora and fauna, and enjoy the natural beauty of the area."
        },
        {
            "name": "The Royal Academy of Arts",
            "coordinates": [
                -0.130278,
                51.511111
            ],
            "description": "The Royal Academy of Arts in London is an art institution that promotes art and artists through exhibitions, education, and research. It hosts a wide range of art exhibitions, showcasing works by both established and emerging artists. The Academy also has its own collection of art, and its historic building in Piccadilly is a landmark in the heart of London's art scene."
        },
        {
            "name": "The Regent's Canal",
            "coordinates": [
                -0.137778,
                51.525278
            ],
            "description": "The Regent's Canal is a historic canal in London that runs from Little Venice to the Limehouse Basin. It offers a scenic and peaceful route for walking, cycling, and boating. Along the canal, there are a variety of attractions, including parks, cafes, and residential areas, providing a unique perspective on different parts of the city."
        },
        {
            "name": "The Royal Mint Experience",
            "coordinates": [
                -0.077778,
                51.508333
            ],
            "description": "The Royal Mint Experience in London allows visitors to discover the history and process of coin production. Located near Tower Bridge, it features interactive exhibits, behind-the-scenes tours of the minting facilities, and the opportunity to see rare coins and medals. It provides an engaging and educational experience for those interested in the history of money and numismatics."
        },
        {
            "name": "The Morden Hall Park",
            "coordinates": [
                -0.206111,
                51.394722
            ],
            "description": "Morden Hall Park is a National Trust property in south London. It features beautiful gardens, a historic watermill, and a network of walking trails. The park is home to a variety of wildlife and offers a peaceful and rural setting within the city. Visitors can explore the grounds, learn about the history of the estate, and enjoy the natural beauty of the area."
        }
    ];

    function showError(message) {
        const errorDiv = document.getElementById('error-message');
        errorDiv.textContent = message;
        errorDiv.style.display = 'block';
        setTimeout(() => {
            errorDiv.style.display = 'none';
        }, 5000);
    }

    function setActiveButton(type) {
        document.querySelectorAll('.map-type-button').forEach(button => {
            button.classList.remove('active');
            if (button.dataset.type === type) {
                button.classList.add('active');
            }
        });
    }

    async function initMap() {
        try {
            // Create the map centered on Shanghai
            map = L.map('map').setView([ 51.507351,-0.127758], 12);

            // Define map layers with English-only tiles
            const layers = {
                streets: L.tileLayer('https://mt1.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}', {
                    maxZoom: 20,
                    attribution: '&copy; Google Maps',
                    language: 'en'
                }),
                terrain: L.tileLayer('https://mt1.google.com/vt/lyrs=p&hl=en&x={x}&y={y}&z={z}', {
                    maxZoom: 20,
                    attribution: '&copy; Google Maps',
                    language: 'en'
                }),
                satellite: L.tileLayer('https://mt1.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}', {
                    maxZoom: 20,
                    attribution: '&copy; Google Maps',
                    language: 'en'
                })
            };

            // Set default layer
            currentLayer = layers.streets;
            currentLayer.addTo(map);

            // Set map options
            const mapOptions = {
                minZoom: 3,
                maxZoom: 20,
                zoomControl: true,
                attributionControl: true,
                preferCanvas: true,
                language: 'en'
            };

            // Apply options to map
            Object.keys(mapOptions).forEach(option => {
                map.options[option] = mapOptions[option];
            });

            // Add scale control
            L.control.scale({imperial: false}).addTo(map);

            // Add map type controls
            document.querySelectorAll('.map-type-button').forEach(button => {
                button.addEventListener('click', () => {
                    const type = button.dataset.type;
                    if (currentLayer) {
                        map.removeLayer(currentLayer);
                    }
                    currentLayer = layers[type];
                    currentLayer.addTo(map);
                    setActiveButton(type);
                });
            });

            // Create markers for each location
            locations.forEach(location => {
                const marker = L.marker([
                    location.coordinates[1],
                    location.coordinates[0]
                ]).addTo(map);

                // Create popup content
                const popupContent = `
                        <div class="info-window">
                            <h2>${location.name}</h2>
                            <p>${location.description}</p>
                        </div>
                    `;

                // Bind popup to marker
                marker.bindPopup(popupContent);
                markers.push(marker);
            });

        } catch (error) {
            console.error('Error initializing map:', error);
            showError('Error initializing map. Please try again later.');
        }
    }

    // Initialize the map once the page loads
    window.addEventListener('load', initMap);
</script>
</body>
</html> 
